<table class="table">
    <thead>
        <tr>
            <th></th>
            <th class="name">App Name
                <img [src]="sortIcon" class="icon-down" alt="icon">
            </th>
            <th class="summary">Summary</th>
            <th class="data">Data Added
                <img [src]="sortIcon" class="icon-down" alt="icon">
            </th>
            <th class="status">Status
                <img [src]="sortIcon" class="icon-down" alt="icon">
            </th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <ng-template ngFor let-app [ngForOf]="appList.list">
            <tr>
                <td class="col-blank"></td>
            <td>
                <div class="row">
                    <div class="col-md-auto">
                        <img class="app-icon" [src]="app.customData.icon" alt="">
                    </div>
                    <div class="col-md pl-0">
                        <h6 class="mb-0">{{app.name}} </h6>
                        <small>v {{app.version}}</small>
                    </div>
                </div>
            </td>
            <td>
                <span class="summary-text">{{app.customData['summary-plain-text'] != 'undefined' ? app.customData['summary-plain-text']:''}}</span>
            </td>
            <td>
                <span>{{app.created | date:'M/d/yyyy'}}</span>
            </td>
            <td>
                <span class="font-med text-primary">{{app.prettyStatus}}</span>
            </td>
                <td>
                    <div class="text-right ellipsis cursor-pointer">
                        <div ngbDropdown placement="bottom-right">
                            <img [src]="menuUrl" class="icon-dots" alt="more-icon" ngbDropdownToggle>
                            <div ngbDropdownMenu>
                                <div *ngIf="app.prettyStatus === 'Approved'">
                                    <button (click)="action('suspend' , app)" ngbDropdownItem>
                                        <img [src]="editIcon" class="pr-1"> Suspend
                                    </button>
                                </div>
                                <div *ngIf="app.prettyStatus != 'Approved' && app.prettyStatus != 'Suspended'"> <button
                                        (click)="action('publish' , app)" ngbDropdownItem>
                                        <img [src]="publishIcon" class="pr-1">Publish
                                    </button>
                                </div>
                                <button (click)="action('edit' , app)" ngbDropdownItem>
                                    <img [src]="editIcon" class="pr-1"> Edit
                                </button>
                                <button (click)="action('delete' , app)" ngbDropdownItem>
                                    <img [src]="editIcon" class="pr-1"> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div></div>


                </td>
                <td class="col-blank"></td>
                <!-- <div *ngIf="app.childs && app.childs.length > 0">
      
        </div> -->
            </tr>
            <tr *ngFor="let child of app.childs">
                <td>
                    <div class="row">
                        <div class="col-md-auto">
                            <img src="https://drive.google.com/u/0/uc?id=1TApj85rZBbl-lOaWyekF--MGsEpXaTBK&export=downloa"
                                class="px-3" alt="icon">
                            <img [src]="child.customData.icon" alt="" class="app-icon" alt="">
                        </div>
                        <div class="col-md pl-0">
                            <h6 class="mb-0">{{child.name}} </h6>
                            <small>v {{child.version}}</small>
                        </div>
                    </div>
                </td>
                <td>
                    <span>
                        {{child.customData && child.customData.summary ? (child.customData.summary | removeHtmlTags) : '' }}
                    </span>
                </td>
                <td>
                    <span>{{child.created | date:'M/d/yyyy'}}</span>
                </td>
                <td>
                    <span class="font-med text-primary"> <span
                            class="font-med text-primary">{{child.prettyStatus}}</span>
                    </span>
                </td>
                <td>
                    <div class="text-right ellipsis cursor-pointer mr-5">
                        <div ngbDropdown placement="bottom-right">
                            <img [src]="menuUrl" class="icon-dots" alt="more-icon" ngbDropdownToggle>
                            <div ngbDropdownMenu>
                                <div *ngIf="child.prettyStatus === 'Approved'">

                                    <button (click)="action('suspend' , child)" ngbDropdownItem>
                                        <img [src]="editIcon" class="pr-1">Suspend
                                    </button>
                                </div>
                                <div
                                    *ngIf="child.prettyStatus != 'Approved' && child.prettyStatus != 'Suspended' && app.prettyStatus != 'Suspended'">
                                    <button (click)="action('publish' , child)" ngbDropdownItem>
                                        <img [src]="publishIcon" class="pr-1">Publish
                                    </button>
                                </div>
                                <button (click)="action('edit' , child)" ngbDropdownItem>
                                    <img [src]="editIcon" class="pr-1"> Edit
                                </button>
                                <button (click)="action('delete' , child)" ngbDropdownItem>
                                    <img [src]="editIcon" class="pr-1"> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </ng-template>
        <tr *ngIf="!appList || appList.list.length == 0">
            <td colspan="7" class="text-center">
                <span> No Applications Found</span>
            </td>
        </tr>
        <tr *ngIf="appList?.list.length > 0">
            <td colspan="7" class="text-center pb-5">
                <span></span>
            </td>
        </tr>
    </tbody>
</table>